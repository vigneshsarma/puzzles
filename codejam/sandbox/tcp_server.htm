
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module tcp_server</title>
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>tcp_server</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:///D:/dropbox/dev/codejam/sandbox/tcp_server.py">d:\dropbox\dev\codejam\sandbox\tcp_server.py</a></font></td></tr></table>
    <p><tt>This&nbsp;is&nbsp;the&nbsp;tcp&nbsp;server.</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="os.html">os</a><br>
</td><td width="25%" valign=top><a href="time.html">time</a><br>
</td><td width="25%" valign=top></td><td width="25%" valign=top></td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="tcp_server.html#MyServer">MyServer</a>
</font></dt></dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="MyServer">class <strong>MyServer</strong></a></font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>A&nbsp;simple&nbsp;TCP&nbsp;server&nbsp;with&nbsp;options&nbsp;[list,pwd&nbsp;,rm,touch,time].<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="MyServer-__init__"><strong>__init__</strong></a>(self)</dt><dd><tt>Server&nbsp;is&nbsp;initialized</tt></dd></dl>

<dl><dt><a name="MyServer-close"><strong>close</strong></a>(self)</dt><dd><tt>called&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;a&nbsp;connection.</tt></dd></dl>

<dl><dt><a name="MyServer-handle_option"><strong>handle_option</strong></a>(self, data)</dt><dd><tt>The&nbsp;function&nbsp;takes&nbsp;the&nbsp;data&nbsp;and&nbsp;performes&nbsp;the&nbsp;action&nbsp;and&nbsp;returns&nbsp;some&nbsp;result.</tt></dd></dl>

<dl><dt><a name="MyServer-start"><strong>start</strong></a>(self)</dt><dd><tt>Start&nbsp;the&nbsp;server&nbsp;and&nbsp;get&nbsp;a&nbsp;connection.Do&nbsp;a&nbsp;hand&nbsp;shake.</tt></dd></dl>

</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-getaddrinfo"><strong>getaddrinfo</strong></a>(...)</dt><dd><tt><a href="#-getaddrinfo">getaddrinfo</a>(host,&nbsp;port&nbsp;[,&nbsp;family,&nbsp;socktype,&nbsp;proto,&nbsp;flags])<br>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;list&nbsp;of&nbsp;(family,&nbsp;socktype,&nbsp;proto,&nbsp;canonname,&nbsp;sockaddr)<br>
&nbsp;<br>
Resolve&nbsp;host&nbsp;and&nbsp;port&nbsp;into&nbsp;addrinfo&nbsp;struct.</tt></dd></dl>
 <dl><dt><a name="-getdefaulttimeout"><strong>getdefaulttimeout</strong></a>(...)</dt><dd><tt><a href="#-getdefaulttimeout">getdefaulttimeout</a>()&nbsp;-&gt;&nbsp;timeout<br>
&nbsp;<br>
Returns&nbsp;the&nbsp;default&nbsp;timeout&nbsp;in&nbsp;floating&nbsp;seconds&nbsp;for&nbsp;new&nbsp;socket&nbsp;objects.<br>
A&nbsp;value&nbsp;of&nbsp;None&nbsp;indicates&nbsp;that&nbsp;new&nbsp;socket&nbsp;objects&nbsp;have&nbsp;no&nbsp;timeout.<br>
When&nbsp;the&nbsp;socket&nbsp;module&nbsp;is&nbsp;first&nbsp;imported,&nbsp;the&nbsp;default&nbsp;is&nbsp;None.</tt></dd></dl>
 <dl><dt><a name="-gethostbyaddr"><strong>gethostbyaddr</strong></a>(...)</dt><dd><tt><a href="#-gethostbyaddr">gethostbyaddr</a>(host)&nbsp;-&gt;&nbsp;(name,&nbsp;aliaslist,&nbsp;addresslist)<br>
&nbsp;<br>
Return&nbsp;the&nbsp;true&nbsp;host&nbsp;name,&nbsp;a&nbsp;list&nbsp;of&nbsp;aliases,&nbsp;and&nbsp;a&nbsp;list&nbsp;of&nbsp;IP&nbsp;addresses,<br>
for&nbsp;a&nbsp;host.&nbsp;&nbsp;The&nbsp;host&nbsp;argument&nbsp;is&nbsp;a&nbsp;string&nbsp;giving&nbsp;a&nbsp;host&nbsp;name&nbsp;or&nbsp;IP&nbsp;number.</tt></dd></dl>
 <dl><dt><a name="-gethostbyname"><strong>gethostbyname</strong></a>(...)</dt><dd><tt><a href="#-gethostbyname">gethostbyname</a>(host)&nbsp;-&gt;&nbsp;address<br>
&nbsp;<br>
Return&nbsp;the&nbsp;IP&nbsp;address&nbsp;(a&nbsp;string&nbsp;of&nbsp;the&nbsp;form&nbsp;'255.255.255.255')&nbsp;for&nbsp;a&nbsp;host.</tt></dd></dl>
 <dl><dt><a name="-gethostbyname_ex"><strong>gethostbyname_ex</strong></a>(...)</dt><dd><tt><a href="#-gethostbyname_ex">gethostbyname_ex</a>(host)&nbsp;-&gt;&nbsp;(name,&nbsp;aliaslist,&nbsp;addresslist)<br>
&nbsp;<br>
Return&nbsp;the&nbsp;true&nbsp;host&nbsp;name,&nbsp;a&nbsp;list&nbsp;of&nbsp;aliases,&nbsp;and&nbsp;a&nbsp;list&nbsp;of&nbsp;IP&nbsp;addresses,<br>
for&nbsp;a&nbsp;host.&nbsp;&nbsp;The&nbsp;host&nbsp;argument&nbsp;is&nbsp;a&nbsp;string&nbsp;giving&nbsp;a&nbsp;host&nbsp;name&nbsp;or&nbsp;IP&nbsp;number.</tt></dd></dl>
 <dl><dt><a name="-gethostname"><strong>gethostname</strong></a>(...)</dt><dd><tt><a href="#-gethostname">gethostname</a>()&nbsp;-&gt;&nbsp;string<br>
&nbsp;<br>
Return&nbsp;the&nbsp;current&nbsp;host&nbsp;name.</tt></dd></dl>
 <dl><dt><a name="-getnameinfo"><strong>getnameinfo</strong></a>(...)</dt><dd><tt><a href="#-getnameinfo">getnameinfo</a>(sockaddr,&nbsp;flags)&nbsp;--&gt;&nbsp;(host,&nbsp;port)<br>
&nbsp;<br>
Get&nbsp;host&nbsp;and&nbsp;port&nbsp;for&nbsp;a&nbsp;sockaddr.</tt></dd></dl>
 <dl><dt><a name="-getprotobyname"><strong>getprotobyname</strong></a>(...)</dt><dd><tt><a href="#-getprotobyname">getprotobyname</a>(name)&nbsp;-&gt;&nbsp;integer<br>
&nbsp;<br>
Return&nbsp;the&nbsp;protocol&nbsp;number&nbsp;for&nbsp;the&nbsp;named&nbsp;protocol.&nbsp;&nbsp;(Rarely&nbsp;used.)</tt></dd></dl>
 <dl><dt><a name="-getservbyname"><strong>getservbyname</strong></a>(...)</dt><dd><tt><a href="#-getservbyname">getservbyname</a>(servicename[,&nbsp;protocolname])&nbsp;-&gt;&nbsp;integer<br>
&nbsp;<br>
Return&nbsp;a&nbsp;port&nbsp;number&nbsp;from&nbsp;a&nbsp;service&nbsp;name&nbsp;and&nbsp;protocol&nbsp;name.<br>
The&nbsp;optional&nbsp;protocol&nbsp;name,&nbsp;if&nbsp;given,&nbsp;should&nbsp;be&nbsp;'tcp'&nbsp;or&nbsp;'udp',<br>
otherwise&nbsp;any&nbsp;protocol&nbsp;will&nbsp;match.</tt></dd></dl>
 <dl><dt><a name="-getservbyport"><strong>getservbyport</strong></a>(...)</dt><dd><tt><a href="#-getservbyport">getservbyport</a>(port[,&nbsp;protocolname])&nbsp;-&gt;&nbsp;string<br>
&nbsp;<br>
Return&nbsp;the&nbsp;service&nbsp;name&nbsp;from&nbsp;a&nbsp;port&nbsp;number&nbsp;and&nbsp;protocol&nbsp;name.<br>
The&nbsp;optional&nbsp;protocol&nbsp;name,&nbsp;if&nbsp;given,&nbsp;should&nbsp;be&nbsp;'tcp'&nbsp;or&nbsp;'udp',<br>
otherwise&nbsp;any&nbsp;protocol&nbsp;will&nbsp;match.</tt></dd></dl>
 <dl><dt><a name="-htonl"><strong>htonl</strong></a>(...)</dt><dd><tt><a href="#-htonl">htonl</a>(integer)&nbsp;-&gt;&nbsp;integer<br>
&nbsp;<br>
Convert&nbsp;a&nbsp;32-bit&nbsp;integer&nbsp;from&nbsp;host&nbsp;to&nbsp;network&nbsp;byte&nbsp;order.</tt></dd></dl>
 <dl><dt><a name="-htons"><strong>htons</strong></a>(...)</dt><dd><tt><a href="#-htons">htons</a>(integer)&nbsp;-&gt;&nbsp;integer<br>
&nbsp;<br>
Convert&nbsp;a&nbsp;16-bit&nbsp;integer&nbsp;from&nbsp;host&nbsp;to&nbsp;network&nbsp;byte&nbsp;order.</tt></dd></dl>
 <dl><dt><a name="-inet_aton"><strong>inet_aton</strong></a>(...)</dt><dd><tt><a href="#-inet_aton">inet_aton</a>(string)&nbsp;-&gt;&nbsp;packed&nbsp;32-bit&nbsp;IP&nbsp;representation<br>
&nbsp;<br>
Convert&nbsp;an&nbsp;IP&nbsp;address&nbsp;in&nbsp;string&nbsp;format&nbsp;(123.45.67.89)&nbsp;to&nbsp;the&nbsp;32-bit&nbsp;packed<br>
binary&nbsp;format&nbsp;used&nbsp;in&nbsp;low-level&nbsp;network&nbsp;functions.</tt></dd></dl>
 <dl><dt><a name="-inet_ntoa"><strong>inet_ntoa</strong></a>(...)</dt><dd><tt><a href="#-inet_ntoa">inet_ntoa</a>(packed_ip)&nbsp;-&gt;&nbsp;ip_address_string<br>
&nbsp;<br>
Convert&nbsp;an&nbsp;IP&nbsp;address&nbsp;from&nbsp;32-bit&nbsp;packed&nbsp;binary&nbsp;format&nbsp;to&nbsp;string&nbsp;format</tt></dd></dl>
 <dl><dt><a name="-main"><strong>main</strong></a>()</dt><dd><tt>Main&nbsp;that&nbsp;starts&nbsp;the&nbsp;server.</tt></dd></dl>
 <dl><dt><a name="-ntohl"><strong>ntohl</strong></a>(...)</dt><dd><tt><a href="#-ntohl">ntohl</a>(integer)&nbsp;-&gt;&nbsp;integer<br>
&nbsp;<br>
Convert&nbsp;a&nbsp;32-bit&nbsp;integer&nbsp;from&nbsp;network&nbsp;to&nbsp;host&nbsp;byte&nbsp;order.</tt></dd></dl>
 <dl><dt><a name="-ntohs"><strong>ntohs</strong></a>(...)</dt><dd><tt><a href="#-ntohs">ntohs</a>(integer)&nbsp;-&gt;&nbsp;integer<br>
&nbsp;<br>
Convert&nbsp;a&nbsp;16-bit&nbsp;integer&nbsp;from&nbsp;network&nbsp;to&nbsp;host&nbsp;byte&nbsp;order.</tt></dd></dl>
 <dl><dt><a name="-setdefaulttimeout"><strong>setdefaulttimeout</strong></a>(...)</dt><dd><tt><a href="#-setdefaulttimeout">setdefaulttimeout</a>(timeout)<br>
&nbsp;<br>
Set&nbsp;the&nbsp;default&nbsp;timeout&nbsp;in&nbsp;floating&nbsp;seconds&nbsp;for&nbsp;new&nbsp;socket&nbsp;objects.<br>
A&nbsp;value&nbsp;of&nbsp;None&nbsp;indicates&nbsp;that&nbsp;new&nbsp;socket&nbsp;objects&nbsp;have&nbsp;no&nbsp;timeout.<br>
When&nbsp;the&nbsp;socket&nbsp;module&nbsp;is&nbsp;first&nbsp;imported,&nbsp;the&nbsp;default&nbsp;is&nbsp;None.</tt></dd></dl>
</td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>AF_APPLETALK</strong> = 16<br>
<strong>AF_DECnet</strong> = 12<br>
<strong>AF_INET</strong> = 2<br>
<strong>AF_INET6</strong> = 23<br>
<strong>AF_IPX</strong> = 6<br>
<strong>AF_IRDA</strong> = 26<br>
<strong>AF_SNA</strong> = 11<br>
<strong>AF_UNSPEC</strong> = 0<br>
<strong>AI_ADDRCONFIG</strong> = 1024<br>
<strong>AI_ALL</strong> = 256<br>
<strong>AI_CANONNAME</strong> = 2<br>
<strong>AI_NUMERICHOST</strong> = 4<br>
<strong>AI_NUMERICSERV</strong> = 8<br>
<strong>AI_PASSIVE</strong> = 1<br>
<strong>AI_V4MAPPED</strong> = 2048<br>
<strong>CAPI</strong> = &lt;capsule object "_socket.CAPI"&gt;<br>
<strong>EAI_AGAIN</strong> = 11002<br>
<strong>EAI_BADFLAGS</strong> = 10022<br>
<strong>EAI_FAIL</strong> = 11003<br>
<strong>EAI_FAMILY</strong> = 10047<br>
<strong>EAI_MEMORY</strong> = 8<br>
<strong>EAI_NODATA</strong> = 11001<br>
<strong>EAI_NONAME</strong> = 11001<br>
<strong>EAI_SERVICE</strong> = 10109<br>
<strong>EAI_SOCKTYPE</strong> = 10044<br>
<strong>INADDR_ALLHOSTS_GROUP</strong> = -536870911<br>
<strong>INADDR_ANY</strong> = 0<br>
<strong>INADDR_BROADCAST</strong> = -1<br>
<strong>INADDR_LOOPBACK</strong> = 2130706433<br>
<strong>INADDR_MAX_LOCAL_GROUP</strong> = -536870657<br>
<strong>INADDR_NONE</strong> = -1<br>
<strong>INADDR_UNSPEC_GROUP</strong> = -536870912<br>
<strong>IPPORT_RESERVED</strong> = 1024<br>
<strong>IPPORT_USERRESERVED</strong> = 5000<br>
<strong>IPPROTO_ICMP</strong> = 1<br>
<strong>IPPROTO_IP</strong> = 0<br>
<strong>IPPROTO_RAW</strong> = 255<br>
<strong>IPPROTO_TCP</strong> = 6<br>
<strong>IPPROTO_UDP</strong> = 17<br>
<strong>IPV6_CHECKSUM</strong> = 26<br>
<strong>IPV6_DONTFRAG</strong> = 14<br>
<strong>IPV6_HOPLIMIT</strong> = 21<br>
<strong>IPV6_HOPOPTS</strong> = 1<br>
<strong>IPV6_JOIN_GROUP</strong> = 12<br>
<strong>IPV6_LEAVE_GROUP</strong> = 13<br>
<strong>IPV6_MULTICAST_HOPS</strong> = 10<br>
<strong>IPV6_MULTICAST_IF</strong> = 9<br>
<strong>IPV6_MULTICAST_LOOP</strong> = 11<br>
<strong>IPV6_PKTINFO</strong> = 19<br>
<strong>IPV6_RECVRTHDR</strong> = 38<br>
<strong>IPV6_RTHDR</strong> = 32<br>
<strong>IPV6_UNICAST_HOPS</strong> = 4<br>
<strong>IPV6_V6ONLY</strong> = 27<br>
<strong>IP_ADD_MEMBERSHIP</strong> = 12<br>
<strong>IP_DROP_MEMBERSHIP</strong> = 13<br>
<strong>IP_HDRINCL</strong> = 2<br>
<strong>IP_MULTICAST_IF</strong> = 9<br>
<strong>IP_MULTICAST_LOOP</strong> = 11<br>
<strong>IP_MULTICAST_TTL</strong> = 10<br>
<strong>IP_OPTIONS</strong> = 1<br>
<strong>IP_RECVDSTADDR</strong> = 25<br>
<strong>IP_TOS</strong> = 3<br>
<strong>IP_TTL</strong> = 4<br>
<strong>MSG_CTRUNC</strong> = 512<br>
<strong>MSG_DONTROUTE</strong> = 4<br>
<strong>MSG_OOB</strong> = 1<br>
<strong>MSG_PEEK</strong> = 2<br>
<strong>MSG_TRUNC</strong> = 256<br>
<strong>NI_DGRAM</strong> = 16<br>
<strong>NI_MAXHOST</strong> = 1025<br>
<strong>NI_MAXSERV</strong> = 32<br>
<strong>NI_NAMEREQD</strong> = 4<br>
<strong>NI_NOFQDN</strong> = 1<br>
<strong>NI_NUMERICHOST</strong> = 2<br>
<strong>NI_NUMERICSERV</strong> = 8<br>
<strong>RCVALL_MAX</strong> = 3<br>
<strong>RCVALL_OFF</strong> = 0<br>
<strong>RCVALL_ON</strong> = 1<br>
<strong>RCVALL_SOCKETLEVELONLY</strong> = 2<br>
<strong>SHUT_RD</strong> = 0<br>
<strong>SHUT_RDWR</strong> = 2<br>
<strong>SHUT_WR</strong> = 1<br>
<strong>SIO_KEEPALIVE_VALS</strong> = 2550136836L<br>
<strong>SIO_RCVALL</strong> = 2550136833L<br>
<strong>SOCK_DGRAM</strong> = 2<br>
<strong>SOCK_RAW</strong> = 3<br>
<strong>SOCK_RDM</strong> = 4<br>
<strong>SOCK_SEQPACKET</strong> = 5<br>
<strong>SOCK_STREAM</strong> = 1<br>
<strong>SOL_IP</strong> = 0<br>
<strong>SOL_SOCKET</strong> = 65535<br>
<strong>SOL_TCP</strong> = 6<br>
<strong>SOL_UDP</strong> = 17<br>
<strong>SOMAXCONN</strong> = 2147483647<br>
<strong>SO_ACCEPTCONN</strong> = 2<br>
<strong>SO_BROADCAST</strong> = 32<br>
<strong>SO_DEBUG</strong> = 1<br>
<strong>SO_DONTROUTE</strong> = 16<br>
<strong>SO_ERROR</strong> = 4103<br>
<strong>SO_EXCLUSIVEADDRUSE</strong> = -5<br>
<strong>SO_KEEPALIVE</strong> = 8<br>
<strong>SO_LINGER</strong> = 128<br>
<strong>SO_OOBINLINE</strong> = 256<br>
<strong>SO_RCVBUF</strong> = 4098<br>
<strong>SO_RCVLOWAT</strong> = 4100<br>
<strong>SO_RCVTIMEO</strong> = 4102<br>
<strong>SO_REUSEADDR</strong> = 4<br>
<strong>SO_SNDBUF</strong> = 4097<br>
<strong>SO_SNDLOWAT</strong> = 4099<br>
<strong>SO_SNDTIMEO</strong> = 4101<br>
<strong>SO_TYPE</strong> = 4104<br>
<strong>SO_USELOOPBACK</strong> = 64<br>
<strong>TCP_MAXSEG</strong> = 4<br>
<strong>TCP_NODELAY</strong> = 1<br>
<strong>errorTab</strong> = {10004: 'The operation was interrupted.', 10009: 'A bad file handle was passed.', 10013: 'Permission denied.', 10014: 'A fault occurred on the network??', 10022: 'An invalid operation was attempted.', 10035: 'The socket operation would block', 10036: 'A blocking operation is already in progress.', 10048: 'The network address is in use.', 10054: 'The connection has been reset.', 10058: 'The network has been shut down.', ...}<br>
<strong>has_ipv6</strong> = True</td></tr></table>
</body></html>